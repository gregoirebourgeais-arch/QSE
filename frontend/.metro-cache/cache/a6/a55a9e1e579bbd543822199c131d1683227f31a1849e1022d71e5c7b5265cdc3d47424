{"dependencies":[{"name":"./rng.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":27,"index":27}}],"key":"GJimBYuDDd6EeueloFHQJIiIo5Y=","exportNames":["*"],"imports":1}},{"name":"./stringify.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":28},"end":{"line":2,"column":49,"index":77}}],"key":"X1ch7bs3UUIXmGFY4ypSSY/7qNo=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  exports.updateV1State = updateV1State;\n  var _rngJs = require(_dependencyMap[0], \"./rng.js\");\n  var rng = _interopDefault(_rngJs);\n  var _stringifyJs = require(_dependencyMap[1], \"./stringify.js\");\n  const _state = {};\n  function v1(options, buf, offset) {\n    let bytes;\n    const isV6 = options?._v6 ?? false;\n    if (options) {\n      const optionsKeys = Object.keys(options);\n      if (optionsKeys.length === 1 && optionsKeys[0] === '_v6') {\n        options = undefined;\n      }\n    }\n    if (options) {\n      bytes = v1Bytes(options.random ?? options.rng?.() ?? (0, rng.default)(), options.msecs, options.nsecs, options.clockseq, options.node, buf, offset);\n    } else {\n      const now = Date.now();\n      const rnds = (0, rng.default)();\n      updateV1State(_state, now, rnds);\n      bytes = v1Bytes(rnds, _state.msecs, _state.nsecs, isV6 ? undefined : _state.clockseq, isV6 ? undefined : _state.node, buf, offset);\n    }\n    return buf ?? (0, _stringifyJs.unsafeStringify)(bytes);\n  }\n  function updateV1State(state, now, rnds) {\n    state.msecs ??= -Infinity;\n    state.nsecs ??= 0;\n    if (now === state.msecs) {\n      state.nsecs++;\n      if (state.nsecs >= 10000) {\n        state.node = undefined;\n        state.nsecs = 0;\n      }\n    } else if (now > state.msecs) {\n      state.nsecs = 0;\n    } else if (now < state.msecs) {\n      state.node = undefined;\n    }\n    if (!state.node) {\n      state.node = rnds.slice(10, 16);\n      state.node[0] |= 0x01;\n      state.clockseq = (rnds[8] << 8 | rnds[9]) & 0x3fff;\n    }\n    state.msecs = now;\n    return state;\n  }\n  function v1Bytes(rnds, msecs, nsecs, clockseq, node, buf, offset = 0) {\n    if (rnds.length < 16) {\n      throw new Error('Random bytes length must be >= 16');\n    }\n    if (!buf) {\n      buf = new Uint8Array(16);\n      offset = 0;\n    } else {\n      if (offset < 0 || offset + 16 > buf.length) {\n        throw new RangeError(`UUID byte range ${offset}:${offset + 15} is out of buffer bounds`);\n      }\n    }\n    msecs ??= Date.now();\n    nsecs ??= 0;\n    clockseq ??= (rnds[8] << 8 | rnds[9]) & 0x3fff;\n    node ??= rnds.slice(10, 16);\n    msecs += 12219292800000;\n    const tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n    buf[offset++] = tl >>> 24 & 0xff;\n    buf[offset++] = tl >>> 16 & 0xff;\n    buf[offset++] = tl >>> 8 & 0xff;\n    buf[offset++] = tl & 0xff;\n    const tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n    buf[offset++] = tmh >>> 8 & 0xff;\n    buf[offset++] = tmh & 0xff;\n    buf[offset++] = tmh >>> 24 & 0xf | 0x10;\n    buf[offset++] = tmh >>> 16 & 0xff;\n    buf[offset++] = clockseq >>> 8 | 0x80;\n    buf[offset++] = clockseq & 0xff;\n    for (let n = 0; n < 6; ++n) {\n      buf[offset++] = node[n];\n    }\n    return buf;\n  }\n  var _default = v1;\n});","lineCount":99,"map":[[12,2,83,0,"Object"],[12,8,83,0],[12,9,83,0,"defineProperty"],[12,23,83,0],[12,24,83,0,"exports"],[12,31,83,0],[13,4,83,0,"enumerable"],[13,14,83,0],[14,4,83,0,"get"],[14,7,83,0],[14,18,83,0,"get"],[14,19,83,0],[15,6,83,0],[15,13,83,0,"_default"],[15,21,83,0],[16,4,83,0],[17,2,83,0],[18,2,24,0,"exports"],[18,9,24,0],[18,10,24,0,"updateV1State"],[18,23,24,0],[18,26,24,0,"updateV1State"],[18,39,24,0],[19,2,1,0],[19,6,1,0,"_rngJs"],[19,12,1,0],[19,15,1,0,"require"],[19,22,1,0],[19,23,1,0,"_dependencyMap"],[19,37,1,0],[20,2,1,0],[20,6,1,0,"rng"],[20,9,1,0],[20,12,1,0,"_interopDefault"],[20,27,1,0],[20,28,1,0,"_rngJs"],[20,34,1,0],[21,2,2,0],[21,6,2,0,"_stringifyJs"],[21,18,2,0],[21,21,2,0,"require"],[21,28,2,0],[21,29,2,0,"_dependencyMap"],[21,43,2,0],[22,2,3,0],[22,8,3,6,"_state"],[22,14,3,12],[22,17,3,15],[22,18,3,16],[22,19,3,17],[23,2,4,0],[23,11,4,9,"v1"],[23,13,4,11,"v1"],[23,14,4,12,"options"],[23,21,4,19],[23,23,4,21,"buf"],[23,26,4,24],[23,28,4,26,"offset"],[23,34,4,32],[23,36,4,34],[24,4,5,4],[24,8,5,8,"bytes"],[24,13,5,13],[25,4,6,4],[25,10,6,10,"isV6"],[25,14,6,14],[25,17,6,17,"options"],[25,24,6,24],[25,26,6,26,"_v6"],[25,29,6,29],[25,33,6,33],[25,38,6,38],[26,4,7,4],[26,8,7,8,"options"],[26,15,7,15],[26,17,7,17],[27,6,8,8],[27,12,8,14,"optionsKeys"],[27,23,8,25],[27,26,8,28,"Object"],[27,32,8,34],[27,33,8,35,"keys"],[27,37,8,39],[27,38,8,40,"options"],[27,45,8,47],[27,46,8,48],[28,6,9,8],[28,10,9,12,"optionsKeys"],[28,21,9,23],[28,22,9,24,"length"],[28,28,9,30],[28,33,9,35],[28,34,9,36],[28,38,9,40,"optionsKeys"],[28,49,9,51],[28,50,9,52],[28,51,9,53],[28,52,9,54],[28,57,9,59],[28,62,9,64],[28,64,9,66],[29,8,10,12,"options"],[29,15,10,19],[29,18,10,22,"undefined"],[29,27,10,31],[30,6,11,8],[31,4,12,4],[32,4,13,4],[32,8,13,8,"options"],[32,15,13,15],[32,17,13,17],[33,6,14,8,"bytes"],[33,11,14,13],[33,14,14,16,"v1Bytes"],[33,21,14,23],[33,22,14,24,"options"],[33,29,14,31],[33,30,14,32,"random"],[33,36,14,38],[33,40,14,42,"options"],[33,47,14,49],[33,48,14,50,"rng"],[33,51,14,53],[33,54,14,56],[33,55,14,57],[33,59,14,61],[33,63,14,61,"rng"],[33,66,14,64],[33,67,14,64,"default"],[33,74,14,64],[33,76,14,65],[33,77,14,66],[33,79,14,68,"options"],[33,86,14,75],[33,87,14,76,"msecs"],[33,92,14,81],[33,94,14,83,"options"],[33,101,14,90],[33,102,14,91,"nsecs"],[33,107,14,96],[33,109,14,98,"options"],[33,116,14,105],[33,117,14,106,"clockseq"],[33,125,14,114],[33,127,14,116,"options"],[33,134,14,123],[33,135,14,124,"node"],[33,139,14,128],[33,141,14,130,"buf"],[33,144,14,133],[33,146,14,135,"offset"],[33,152,14,141],[33,153,14,142],[34,4,15,4],[34,5,15,5],[34,11,16,9],[35,6,17,8],[35,12,17,14,"now"],[35,15,17,17],[35,18,17,20,"Date"],[35,22,17,24],[35,23,17,25,"now"],[35,26,17,28],[35,27,17,29],[35,28,17,30],[36,6,18,8],[36,12,18,14,"rnds"],[36,16,18,18],[36,19,18,21],[36,23,18,21,"rng"],[36,26,18,24],[36,27,18,24,"default"],[36,34,18,24],[36,36,18,25],[36,37,18,26],[37,6,19,8,"updateV1State"],[37,19,19,21],[37,20,19,22,"_state"],[37,26,19,28],[37,28,19,30,"now"],[37,31,19,33],[37,33,19,35,"rnds"],[37,37,19,39],[37,38,19,40],[38,6,20,8,"bytes"],[38,11,20,13],[38,14,20,16,"v1Bytes"],[38,21,20,23],[38,22,20,24,"rnds"],[38,26,20,28],[38,28,20,30,"_state"],[38,34,20,36],[38,35,20,37,"msecs"],[38,40,20,42],[38,42,20,44,"_state"],[38,48,20,50],[38,49,20,51,"nsecs"],[38,54,20,56],[38,56,20,58,"isV6"],[38,60,20,62],[38,63,20,65,"undefined"],[38,72,20,74],[38,75,20,77,"_state"],[38,81,20,83],[38,82,20,84,"clockseq"],[38,90,20,92],[38,92,20,94,"isV6"],[38,96,20,98],[38,99,20,101,"undefined"],[38,108,20,110],[38,111,20,113,"_state"],[38,117,20,119],[38,118,20,120,"node"],[38,122,20,124],[38,124,20,126,"buf"],[38,127,20,129],[38,129,20,131,"offset"],[38,135,20,137],[38,136,20,138],[39,4,21,4],[40,4,22,4],[40,11,22,11,"buf"],[40,14,22,14],[40,18,22,18],[40,22,22,18,"unsafeStringify"],[40,34,22,33],[40,35,22,33,"unsafeStringify"],[40,50,22,33],[40,52,22,34,"bytes"],[40,57,22,39],[40,58,22,40],[41,2,23,0],[42,2,24,7],[42,11,24,16,"updateV1State"],[42,24,24,29,"updateV1State"],[42,25,24,30,"state"],[42,30,24,35],[42,32,24,37,"now"],[42,35,24,40],[42,37,24,42,"rnds"],[42,41,24,46],[42,43,24,48],[43,4,25,4,"state"],[43,9,25,9],[43,10,25,10,"msecs"],[43,15,25,15],[43,20,25,20],[43,21,25,21,"Infinity"],[43,29,25,29],[44,4,26,4,"state"],[44,9,26,9],[44,10,26,10,"nsecs"],[44,15,26,15],[44,20,26,20],[44,21,26,21],[45,4,27,4],[45,8,27,8,"now"],[45,11,27,11],[45,16,27,16,"state"],[45,21,27,21],[45,22,27,22,"msecs"],[45,27,27,27],[45,29,27,29],[46,6,28,8,"state"],[46,11,28,13],[46,12,28,14,"nsecs"],[46,17,28,19],[46,19,28,21],[47,6,29,8],[47,10,29,12,"state"],[47,15,29,17],[47,16,29,18,"nsecs"],[47,21,29,23],[47,25,29,27],[47,30,29,32],[47,32,29,34],[48,8,30,12,"state"],[48,13,30,17],[48,14,30,18,"node"],[48,18,30,22],[48,21,30,25,"undefined"],[48,30,30,34],[49,8,31,12,"state"],[49,13,31,17],[49,14,31,18,"nsecs"],[49,19,31,23],[49,22,31,26],[49,23,31,27],[50,6,32,8],[51,4,33,4],[51,5,33,5],[51,11,34,9],[51,15,34,13,"now"],[51,18,34,16],[51,21,34,19,"state"],[51,26,34,24],[51,27,34,25,"msecs"],[51,32,34,30],[51,34,34,32],[52,6,35,8,"state"],[52,11,35,13],[52,12,35,14,"nsecs"],[52,17,35,19],[52,20,35,22],[52,21,35,23],[53,4,36,4],[53,5,36,5],[53,11,37,9],[53,15,37,13,"now"],[53,18,37,16],[53,21,37,19,"state"],[53,26,37,24],[53,27,37,25,"msecs"],[53,32,37,30],[53,34,37,32],[54,6,38,8,"state"],[54,11,38,13],[54,12,38,14,"node"],[54,16,38,18],[54,19,38,21,"undefined"],[54,28,38,30],[55,4,39,4],[56,4,40,4],[56,8,40,8],[56,9,40,9,"state"],[56,14,40,14],[56,15,40,15,"node"],[56,19,40,19],[56,21,40,21],[57,6,41,8,"state"],[57,11,41,13],[57,12,41,14,"node"],[57,16,41,18],[57,19,41,21,"rnds"],[57,23,41,25],[57,24,41,26,"slice"],[57,29,41,31],[57,30,41,32],[57,32,41,34],[57,34,41,36],[57,36,41,38],[57,37,41,39],[58,6,42,8,"state"],[58,11,42,13],[58,12,42,14,"node"],[58,16,42,18],[58,17,42,19],[58,18,42,20],[58,19,42,21],[58,23,42,25],[58,27,42,29],[59,6,43,8,"state"],[59,11,43,13],[59,12,43,14,"clockseq"],[59,20,43,22],[59,23,43,25],[59,24,43,27,"rnds"],[59,28,43,31],[59,29,43,32],[59,30,43,33],[59,31,43,34],[59,35,43,38],[59,36,43,39],[59,39,43,43,"rnds"],[59,43,43,47],[59,44,43,48],[59,45,43,49],[59,46,43,50],[59,50,43,54],[59,56,43,60],[60,4,44,4],[61,4,45,4,"state"],[61,9,45,9],[61,10,45,10,"msecs"],[61,15,45,15],[61,18,45,18,"now"],[61,21,45,21],[62,4,46,4],[62,11,46,11,"state"],[62,16,46,16],[63,2,47,0],[64,2,48,0],[64,11,48,9,"v1Bytes"],[64,18,48,16,"v1Bytes"],[64,19,48,17,"rnds"],[64,23,48,21],[64,25,48,23,"msecs"],[64,30,48,28],[64,32,48,30,"nsecs"],[64,37,48,35],[64,39,48,37,"clockseq"],[64,47,48,45],[64,49,48,47,"node"],[64,53,48,51],[64,55,48,53,"buf"],[64,58,48,56],[64,60,48,58,"offset"],[64,66,48,64],[64,69,48,67],[64,70,48,68],[64,72,48,70],[65,4,49,4],[65,8,49,8,"rnds"],[65,12,49,12],[65,13,49,13,"length"],[65,19,49,19],[65,22,49,22],[65,24,49,24],[65,26,49,26],[66,6,50,8],[66,12,50,14],[66,16,50,18,"Error"],[66,21,50,23],[66,22,50,24],[66,57,50,59],[66,58,50,60],[67,4,51,4],[68,4,52,4],[68,8,52,8],[68,9,52,9,"buf"],[68,12,52,12],[68,14,52,14],[69,6,53,8,"buf"],[69,9,53,11],[69,12,53,14],[69,16,53,18,"Uint8Array"],[69,26,53,28],[69,27,53,29],[69,29,53,31],[69,30,53,32],[70,6,54,8,"offset"],[70,12,54,14],[70,15,54,17],[70,16,54,18],[71,4,55,4],[71,5,55,5],[71,11,56,9],[72,6,57,8],[72,10,57,12,"offset"],[72,16,57,18],[72,19,57,21],[72,20,57,22],[72,24,57,26,"offset"],[72,30,57,32],[72,33,57,35],[72,35,57,37],[72,38,57,40,"buf"],[72,41,57,43],[72,42,57,44,"length"],[72,48,57,50],[72,50,57,52],[73,8,58,12],[73,14,58,18],[73,18,58,22,"RangeError"],[73,28,58,32],[73,29,58,33],[73,48,58,52,"offset"],[73,54,58,58],[73,58,58,62,"offset"],[73,64,58,68],[73,67,58,71],[73,69,58,73],[73,95,58,99],[73,96,58,100],[74,6,59,8],[75,4,60,4],[76,4,61,4,"msecs"],[76,9,61,9],[76,14,61,14,"Date"],[76,18,61,18],[76,19,61,19,"now"],[76,22,61,22],[76,23,61,23],[76,24,61,24],[77,4,62,4,"nsecs"],[77,9,62,9],[77,14,62,14],[77,15,62,15],[78,4,63,4,"clockseq"],[78,12,63,12],[78,17,63,17],[78,18,63,19,"rnds"],[78,22,63,23],[78,23,63,24],[78,24,63,25],[78,25,63,26],[78,29,63,30],[78,30,63,31],[78,33,63,35,"rnds"],[78,37,63,39],[78,38,63,40],[78,39,63,41],[78,40,63,42],[78,44,63,46],[78,50,63,52],[79,4,64,4,"node"],[79,8,64,8],[79,13,64,13,"rnds"],[79,17,64,17],[79,18,64,18,"slice"],[79,23,64,23],[79,24,64,24],[79,26,64,26],[79,28,64,28],[79,30,64,30],[79,31,64,31],[80,4,65,4,"msecs"],[80,9,65,9],[80,13,65,13],[80,27,65,27],[81,4,66,4],[81,10,66,10,"tl"],[81,12,66,12],[81,15,66,15],[81,16,66,16],[81,17,66,17,"msecs"],[81,22,66,22],[81,25,66,25],[81,34,66,34],[81,38,66,38],[81,43,66,43],[81,46,66,46,"nsecs"],[81,51,66,51],[81,55,66,55],[81,66,66,66],[82,4,67,4,"buf"],[82,7,67,7],[82,8,67,8,"offset"],[82,14,67,14],[82,16,67,16],[82,17,67,17],[82,20,67,21,"tl"],[82,22,67,23],[82,27,67,28],[82,29,67,30],[82,32,67,34],[82,36,67,38],[83,4,68,4,"buf"],[83,7,68,7],[83,8,68,8,"offset"],[83,14,68,14],[83,16,68,16],[83,17,68,17],[83,20,68,21,"tl"],[83,22,68,23],[83,27,68,28],[83,29,68,30],[83,32,68,34],[83,36,68,38],[84,4,69,4,"buf"],[84,7,69,7],[84,8,69,8,"offset"],[84,14,69,14],[84,16,69,16],[84,17,69,17],[84,20,69,21,"tl"],[84,22,69,23],[84,27,69,28],[84,28,69,29],[84,31,69,33],[84,35,69,37],[85,4,70,4,"buf"],[85,7,70,7],[85,8,70,8,"offset"],[85,14,70,14],[85,16,70,16],[85,17,70,17],[85,20,70,20,"tl"],[85,22,70,22],[85,25,70,25],[85,29,70,29],[86,4,71,4],[86,10,71,10,"tmh"],[86,13,71,13],[86,16,71,18,"msecs"],[86,21,71,23],[86,24,71,26],[86,35,71,37],[86,38,71,41],[86,43,71,46],[86,46,71,50],[86,55,71,59],[87,4,72,4,"buf"],[87,7,72,7],[87,8,72,8,"offset"],[87,14,72,14],[87,16,72,16],[87,17,72,17],[87,20,72,21,"tmh"],[87,23,72,24],[87,28,72,29],[87,29,72,30],[87,32,72,34],[87,36,72,38],[88,4,73,4,"buf"],[88,7,73,7],[88,8,73,8,"offset"],[88,14,73,14],[88,16,73,16],[88,17,73,17],[88,20,73,20,"tmh"],[88,23,73,23],[88,26,73,26],[88,30,73,30],[89,4,74,4,"buf"],[89,7,74,7],[89,8,74,8,"offset"],[89,14,74,14],[89,16,74,16],[89,17,74,17],[89,20,74,22,"tmh"],[89,23,74,25],[89,28,74,30],[89,30,74,32],[89,33,74,36],[89,36,74,39],[89,39,74,43],[89,43,74,47],[90,4,75,4,"buf"],[90,7,75,7],[90,8,75,8,"offset"],[90,14,75,14],[90,16,75,16],[90,17,75,17],[90,20,75,21,"tmh"],[90,23,75,24],[90,28,75,29],[90,30,75,31],[90,33,75,35],[90,37,75,39],[91,4,76,4,"buf"],[91,7,76,7],[91,8,76,8,"offset"],[91,14,76,14],[91,16,76,16],[91,17,76,17],[91,20,76,21,"clockseq"],[91,28,76,29],[91,33,76,34],[91,34,76,35],[91,37,76,39],[91,41,76,43],[92,4,77,4,"buf"],[92,7,77,7],[92,8,77,8,"offset"],[92,14,77,14],[92,16,77,16],[92,17,77,17],[92,20,77,20,"clockseq"],[92,28,77,28],[92,31,77,31],[92,35,77,35],[93,4,78,4],[93,9,78,9],[93,13,78,13,"n"],[93,14,78,14],[93,17,78,17],[93,18,78,18],[93,20,78,20,"n"],[93,21,78,21],[93,24,78,24],[93,25,78,25],[93,27,78,27],[93,29,78,29,"n"],[93,30,78,30],[93,32,78,32],[94,6,79,8,"buf"],[94,9,79,11],[94,10,79,12,"offset"],[94,16,79,18],[94,18,79,20],[94,19,79,21],[94,22,79,24,"node"],[94,26,79,28],[94,27,79,29,"n"],[94,28,79,30],[94,29,79,31],[95,4,80,4],[96,4,81,4],[96,11,81,11,"buf"],[96,14,81,14],[97,2,82,0],[98,2,83,0],[98,6,83,0,"_default"],[98,14,83,0],[98,17,83,15,"v1"],[98,19,83,17],[99,0,83,18],[99,3]],"functionMap":{"names":["<global>","v1","updateV1State","v1Bytes"],"mappings":"AAA;ACG;CDmB;OEC;CFuB;AGC;CHkC"},"hasCjsExports":false},"type":"js/module"}]}