{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"date-fns","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":166},"end":{"line":4,"column":34,"index":200}}],"key":"ebLIABIqb+DSfRpTozlXmEt3BvY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useFicheStore\", {\n    enumerable: true,\n    get: function () {\n      return useFicheStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _dateFns = require(_dependencyMap[2], \"date-fns\");\n  const initialFiche = {\n    type: 'QualitÃ©',\n    date_evenement: new Date().toISOString(),\n    heure_evenement: (0, _dateFns.format)(new Date(), 'HH:mm'),\n    criticite: 'Mineure',\n    statut: 'Brouillon',\n    photos: [],\n    actions_correctives: [],\n    traitement_blocage: false,\n    traitement_methanisation: false,\n    traitement_fonte: false,\n    traitement_analyses: false,\n    traitement_alimentation_animale: false\n  };\n  const useFicheStore = (0, _zustand.create)((set, get) => ({\n    currentFiche: Object.assign({}, initialFiche),\n    offlineFiches: [],\n    setCurrentFiche: fiche => set({\n      currentFiche: fiche\n    }),\n    updateCurrentFiche: updates => set(state => ({\n      currentFiche: Object.assign({}, state.currentFiche, updates)\n    })),\n    resetCurrentFiche: () => set({\n      currentFiche: Object.assign({}, initialFiche, {\n        date_evenement: new Date().toISOString(),\n        heure_evenement: (0, _dateFns.format)(new Date(), 'HH:mm')\n      })\n    }),\n    addPhoto: photo => set(state => ({\n      currentFiche: Object.assign({}, state.currentFiche, {\n        photos: [...(state.currentFiche.photos || []), photo]\n      })\n    })),\n    removePhoto: photoId => set(state => ({\n      currentFiche: Object.assign({}, state.currentFiche, {\n        photos: (state.currentFiche.photos || []).filter(p => p.id !== photoId)\n      })\n    })),\n    addAction: action => set(state => ({\n      currentFiche: Object.assign({}, state.currentFiche, {\n        actions_correctives: [...(state.currentFiche.actions_correctives || []), action]\n      })\n    })),\n    removeAction: index => set(state => ({\n      currentFiche: Object.assign({}, state.currentFiche, {\n        actions_correctives: (state.currentFiche.actions_correctives || []).filter((_, i) => i !== index)\n      })\n    })),\n    saveOffline: async fiche => {\n      const fiches = get().offlineFiches;\n      const updated = [...fiches, fiche];\n      await AsyncStorage.default.setItem('offlineFiches', JSON.stringify(updated));\n      set({\n        offlineFiches: updated\n      });\n    },\n    loadOfflineFiches: async () => {\n      try {\n        const data = await AsyncStorage.default.getItem('offlineFiches');\n        if (data) {\n          set({\n            offlineFiches: JSON.parse(data)\n          });\n        }\n      } catch (e) {\n        console.error('Error loading offline fiches:', e);\n      }\n    },\n    removeOfflineFiche: async id => {\n      const fiches = get().offlineFiches.filter(f => f.id !== id);\n      await AsyncStorage.default.setItem('offlineFiches', JSON.stringify(fiches));\n      set({\n        offlineFiches: fiches\n      });\n    }\n  }));\n});","lineCount":99,"map":[[12,2,37,0,"Object"],[12,8,37,0],[12,9,37,0,"defineProperty"],[12,23,37,0],[12,24,37,0,"exports"],[12,31,37,0],[13,4,37,0,"enumerable"],[13,14,37,0],[14,4,37,0,"get"],[14,7,37,0],[14,18,37,0,"get"],[14,19,37,0],[15,6,37,0],[15,13,37,0,"useFicheStore"],[15,26,37,0],[16,4,37,0],[17,2,37,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,4,0],[21,6,4,0,"_dateFns"],[21,14,4,0],[21,17,4,0,"require"],[21,24,4,0],[21,25,4,0,"_dependencyMap"],[21,39,4,0],[22,2,22,0],[22,8,22,6,"initialFiche"],[22,20,22,37],[22,23,22,40],[23,4,23,2,"type"],[23,8,23,6],[23,10,23,8],[23,19,23,17],[24,4,24,2,"date_evenement"],[24,18,24,16],[24,20,24,18],[24,24,24,22,"Date"],[24,28,24,26],[24,29,24,27],[24,30,24,28],[24,31,24,29,"toISOString"],[24,42,24,40],[24,43,24,41],[24,44,24,42],[25,4,25,2,"heure_evenement"],[25,19,25,17],[25,21,25,19],[25,25,25,19,"format"],[25,33,25,25],[25,34,25,25,"format"],[25,40,25,25],[25,42,25,26],[25,46,25,30,"Date"],[25,50,25,34],[25,51,25,35],[25,52,25,36],[25,54,25,38],[25,61,25,45],[25,62,25,46],[26,4,26,2,"criticite"],[26,13,26,11],[26,15,26,13],[26,24,26,22],[27,4,27,2,"statut"],[27,10,27,8],[27,12,27,10],[27,23,27,21],[28,4,28,2,"photos"],[28,10,28,8],[28,12,28,10],[28,14,28,12],[29,4,29,2,"actions_correctives"],[29,23,29,21],[29,25,29,23],[29,27,29,25],[30,4,30,2,"traitement_blocage"],[30,22,30,20],[30,24,30,22],[30,29,30,27],[31,4,31,2,"traitement_methanisation"],[31,28,31,26],[31,30,31,28],[31,35,31,33],[32,4,32,2,"traitement_fonte"],[32,20,32,18],[32,22,32,20],[32,27,32,25],[33,4,33,2,"traitement_analyses"],[33,23,33,21],[33,25,33,23],[33,30,33,28],[34,4,34,2,"traitement_alimentation_animale"],[34,35,34,33],[34,37,34,35],[35,2,35,0],[35,3,35,1],[36,2,37,7],[36,8,37,13,"useFicheStore"],[36,21,37,26],[36,24,37,29],[36,28,37,29,"create"],[36,36,37,35],[36,37,37,35,"create"],[36,43,37,35],[36,45,37,48],[36,46,37,49,"set"],[36,49,37,52],[36,51,37,54,"get"],[36,54,37,57],[36,60,37,63],[37,4,38,2,"currentFiche"],[37,16,38,14],[37,18,38,14,"Object"],[37,24,38,14],[37,25,38,14,"assign"],[37,31,38,14],[37,36,38,21,"initialFiche"],[37,48,38,33],[37,49,38,35],[38,4,39,2,"offlineFiches"],[38,17,39,15],[38,19,39,17],[38,21,39,19],[39,4,41,2,"setCurrentFiche"],[39,19,41,17],[39,21,41,20,"fiche"],[39,26,41,25],[39,30,41,30,"set"],[39,33,41,33],[39,34,41,34],[40,6,41,36,"currentFiche"],[40,18,41,48],[40,20,41,50,"fiche"],[41,4,41,56],[41,5,41,57],[41,6,41,58],[42,4,43,2,"updateCurrentFiche"],[42,22,43,20],[42,24,43,23,"updates"],[42,31,43,30],[42,35,43,35,"set"],[42,38,43,38],[42,39,43,40,"state"],[42,44,43,45],[42,49,43,51],[43,6,44,4,"currentFiche"],[43,18,44,16],[43,20,44,16,"Object"],[43,26,44,16],[43,27,44,16,"assign"],[43,33,44,16],[43,38,44,23,"state"],[43,43,44,28],[43,44,44,29,"currentFiche"],[43,56,44,41],[43,58,44,46,"updates"],[43,65,44,53],[44,4,45,2],[44,5,45,3],[44,6,45,4],[44,7,45,5],[45,4,47,2,"resetCurrentFiche"],[45,21,47,19],[45,23,47,21,"resetCurrentFiche"],[45,24,47,21],[45,29,47,27,"set"],[45,32,47,30],[45,33,47,31],[46,6,47,33,"currentFiche"],[46,18,47,45],[46,20,47,45,"Object"],[46,26,47,45],[46,27,47,45,"assign"],[46,33,47,45],[46,38,47,52,"initialFiche"],[46,50,47,64],[47,8,47,66,"date_evenement"],[47,22,47,80],[47,24,47,82],[47,28,47,86,"Date"],[47,32,47,90],[47,33,47,91],[47,34,47,92],[47,35,47,93,"toISOString"],[47,46,47,104],[47,47,47,105],[47,48,47,106],[48,8,47,108,"heure_evenement"],[48,23,47,123],[48,25,47,125],[48,29,47,125,"format"],[48,37,47,131],[48,38,47,131,"format"],[48,44,47,131],[48,46,47,132],[48,50,47,136,"Date"],[48,54,47,140],[48,55,47,141],[48,56,47,142],[48,58,47,144],[48,65,47,151],[49,6,47,152],[50,4,47,155],[50,5,47,156],[50,6,47,157],[51,4,49,2,"addPhoto"],[51,12,49,10],[51,14,49,13,"photo"],[51,19,49,18],[51,23,49,23,"set"],[51,26,49,26],[51,27,49,28,"state"],[51,32,49,33],[51,37,49,39],[52,6,50,4,"currentFiche"],[52,18,50,16],[52,20,50,16,"Object"],[52,26,50,16],[52,27,50,16,"assign"],[52,33,50,16],[52,38,51,9,"state"],[52,43,51,14],[52,44,51,15,"currentFiche"],[52,56,51,27],[53,8,52,6,"photos"],[53,14,52,12],[53,16,52,14],[53,17,52,15],[53,21,52,19,"state"],[53,26,52,24],[53,27,52,25,"currentFiche"],[53,39,52,37],[53,40,52,38,"photos"],[53,46,52,44],[53,50,52,48],[53,52,52,50],[53,53,52,51],[53,55,52,53,"photo"],[53,60,52,58],[54,6,52,59],[55,4,54,2],[55,5,54,3],[55,6,54,4],[55,7,54,5],[56,4,56,2,"removePhoto"],[56,15,56,13],[56,17,56,16,"photoId"],[56,24,56,23],[56,28,56,28,"set"],[56,31,56,31],[56,32,56,33,"state"],[56,37,56,38],[56,42,56,44],[57,6,57,4,"currentFiche"],[57,18,57,16],[57,20,57,16,"Object"],[57,26,57,16],[57,27,57,16,"assign"],[57,33,57,16],[57,38,58,9,"state"],[57,43,58,14],[57,44,58,15,"currentFiche"],[57,56,58,27],[58,8,59,6,"photos"],[58,14,59,12],[58,16,59,14],[58,17,59,15,"state"],[58,22,59,20],[58,23,59,21,"currentFiche"],[58,35,59,33],[58,36,59,34,"photos"],[58,42,59,40],[58,46,59,44],[58,48,59,46],[58,50,59,48,"filter"],[58,56,59,54],[58,57,59,55,"p"],[58,58,59,56],[58,62,59,60,"p"],[58,63,59,61],[58,64,59,62,"id"],[58,66,59,64],[58,71,59,69,"photoId"],[58,78,59,76],[59,6,59,77],[60,4,61,2],[60,5,61,3],[60,6,61,4],[60,7,61,5],[61,4,63,2,"addAction"],[61,13,63,11],[61,15,63,14,"action"],[61,21,63,20],[61,25,63,25,"set"],[61,28,63,28],[61,29,63,30,"state"],[61,34,63,35],[61,39,63,41],[62,6,64,4,"currentFiche"],[62,18,64,16],[62,20,64,16,"Object"],[62,26,64,16],[62,27,64,16,"assign"],[62,33,64,16],[62,38,65,9,"state"],[62,43,65,14],[62,44,65,15,"currentFiche"],[62,56,65,27],[63,8,66,6,"actions_correctives"],[63,27,66,25],[63,29,66,27],[63,30,66,28],[63,34,66,32,"state"],[63,39,66,37],[63,40,66,38,"currentFiche"],[63,52,66,50],[63,53,66,51,"actions_correctives"],[63,72,66,70],[63,76,66,74],[63,78,66,76],[63,79,66,77],[63,81,66,79,"action"],[63,87,66,85],[64,6,66,86],[65,4,68,2],[65,5,68,3],[65,6,68,4],[65,7,68,5],[66,4,70,2,"removeAction"],[66,16,70,14],[66,18,70,17,"index"],[66,23,70,22],[66,27,70,27,"set"],[66,30,70,30],[66,31,70,32,"state"],[66,36,70,37],[66,41,70,43],[67,6,71,4,"currentFiche"],[67,18,71,16],[67,20,71,16,"Object"],[67,26,71,16],[67,27,71,16,"assign"],[67,33,71,16],[67,38,72,9,"state"],[67,43,72,14],[67,44,72,15,"currentFiche"],[67,56,72,27],[68,8,73,6,"actions_correctives"],[68,27,73,25],[68,29,73,27],[68,30,73,28,"state"],[68,35,73,33],[68,36,73,34,"currentFiche"],[68,48,73,46],[68,49,73,47,"actions_correctives"],[68,68,73,66],[68,72,73,70],[68,74,73,72],[68,76,73,74,"filter"],[68,82,73,80],[68,83,73,81],[68,84,73,82,"_"],[68,85,73,83],[68,87,73,85,"i"],[68,88,73,86],[68,93,73,91,"i"],[68,94,73,92],[68,99,73,97,"index"],[68,104,73,102],[69,6,73,103],[70,4,75,2],[70,5,75,3],[70,6,75,4],[70,7,75,5],[71,4,77,2,"saveOffline"],[71,15,77,13],[71,17,77,15],[71,23,77,22,"fiche"],[71,28,77,27],[71,32,77,32],[72,6,78,4],[72,12,78,10,"fiches"],[72,18,78,16],[72,21,78,19,"get"],[72,24,78,22],[72,25,78,23],[72,26,78,24],[72,27,78,25,"offlineFiches"],[72,40,78,38],[73,6,79,4],[73,12,79,10,"updated"],[73,19,79,17],[73,22,79,20],[73,23,79,21],[73,26,79,24,"fiches"],[73,32,79,30],[73,34,79,32,"fiche"],[73,39,79,37],[73,40,79,38],[74,6,80,4],[74,12,80,10,"AsyncStorage"],[74,24,80,22],[74,25,80,22,"default"],[74,32,80,22],[74,33,80,23,"setItem"],[74,40,80,30],[74,41,80,31],[74,56,80,46],[74,58,80,48,"JSON"],[74,62,80,52],[74,63,80,53,"stringify"],[74,72,80,62],[74,73,80,63,"updated"],[74,80,80,70],[74,81,80,71],[74,82,80,72],[75,6,81,4,"set"],[75,9,81,7],[75,10,81,8],[76,8,81,10,"offlineFiches"],[76,21,81,23],[76,23,81,25,"updated"],[77,6,81,33],[77,7,81,34],[77,8,81,35],[78,4,82,2],[78,5,82,3],[79,4,84,2,"loadOfflineFiches"],[79,21,84,19],[79,23,84,21],[79,29,84,21,"loadOfflineFiches"],[79,30,84,21],[79,35,84,33],[80,6,85,4],[80,10,85,8],[81,8,86,6],[81,14,86,12,"data"],[81,18,86,16],[81,21,86,19],[81,27,86,25,"AsyncStorage"],[81,39,86,37],[81,40,86,37,"default"],[81,47,86,37],[81,48,86,38,"getItem"],[81,55,86,45],[81,56,86,46],[81,71,86,61],[81,72,86,62],[82,8,87,6],[82,12,87,10,"data"],[82,16,87,14],[82,18,87,16],[83,10,88,8,"set"],[83,13,88,11],[83,14,88,12],[84,12,88,14,"offlineFiches"],[84,25,88,27],[84,27,88,29,"JSON"],[84,31,88,33],[84,32,88,34,"parse"],[84,37,88,39],[84,38,88,40,"data"],[84,42,88,44],[85,10,88,46],[85,11,88,47],[85,12,88,48],[86,8,89,6],[87,6,90,4],[87,7,90,5],[87,8,90,6],[87,15,90,13,"e"],[87,16,90,14],[87,18,90,16],[88,8,91,6,"console"],[88,15,91,13],[88,16,91,14,"error"],[88,21,91,19],[88,22,91,20],[88,53,91,51],[88,55,91,53,"e"],[88,56,91,54],[88,57,91,55],[89,6,92,4],[90,4,93,2],[90,5,93,3],[91,4,95,2,"removeOfflineFiche"],[91,22,95,20],[91,24,95,22],[91,30,95,29,"id"],[91,32,95,31],[91,36,95,36],[92,6,96,4],[92,12,96,10,"fiches"],[92,18,96,16],[92,21,96,19,"get"],[92,24,96,22],[92,25,96,23],[92,26,96,24],[92,27,96,25,"offlineFiches"],[92,40,96,38],[92,41,96,39,"filter"],[92,47,96,45],[92,48,96,46,"f"],[92,49,96,47],[92,53,96,51,"f"],[92,54,96,52],[92,55,96,53,"id"],[92,57,96,55],[92,62,96,60,"id"],[92,64,96,62],[92,65,96,63],[93,6,97,4],[93,12,97,10,"AsyncStorage"],[93,24,97,22],[93,25,97,22,"default"],[93,32,97,22],[93,33,97,23,"setItem"],[93,40,97,30],[93,41,97,31],[93,56,97,46],[93,58,97,48,"JSON"],[93,62,97,52],[93,63,97,53,"stringify"],[93,72,97,62],[93,73,97,63,"fiches"],[93,79,97,69],[93,80,97,70],[93,81,97,71],[94,6,98,4,"set"],[94,9,98,7],[94,10,98,8],[95,8,98,10,"offlineFiches"],[95,21,98,23],[95,23,98,25,"fiches"],[96,6,98,32],[96,7,98,33],[96,8,98,34],[97,4,99,2],[98,2,100,0],[98,3,100,1],[98,4,100,2],[98,5,100,3],[99,0,100,4],[99,3]],"functionMap":{"names":["<global>","create$argument_0","setCurrentFiche","updateCurrentFiche","set$argument_0","resetCurrentFiche","addPhoto","removePhoto","filter$argument_0","addAction","removeAction","saveOffline","loadOfflineFiches","removeOfflineFiche","get.offlineFiches.filter$argument_0"],"mappings":"AAA;gDCoC;mBCI,uCD;sBEE,iBC;IDE,CF;qBIE,wIJ;YKE,eF;IEK,CL;eME,iBH;uDIG,qBJ;IGE,CN;aQE,gBL;IKK,CR;gBSE,eN;iFIG,qBJ;IME,CT;eUE;GVK;qBWE;GXS;sBYE;8CCC,gBD;GZG;EDC"},"hasCjsExports":false},"type":"js/module"}]}