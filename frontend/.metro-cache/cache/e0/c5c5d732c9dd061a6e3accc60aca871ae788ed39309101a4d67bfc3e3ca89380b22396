{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":143},"end":{"line":4,"column":26,"index":169}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useConfigStore\", {\n    enumerable: true,\n    get: function () {\n      return useConfigStore;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _zustand = require(_dependencyMap[1], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  const API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  const DEFAULT_CONFIG = {\n    services: ['REPC', 'Fabrication PPC', 'Affinage PPC', 'Conditionnement PPC', 'Expéditions PPC', 'Fabrication PPNC', 'Affinage PPNC', 'Conditionnement PPNC', 'Expéditions PPNC', 'Maintenance générale', 'Maintenance Fab/Aff PPC', 'Maintenance Condi PPC', 'Maintenance Fab PPNC', 'Maintenance Condi PPNC', 'Maintenance REPC', 'Magasin', 'Laboratoire', 'Collecte', 'Administratif', 'Garage', 'Rétrocession', 'Froid ferme', 'Qualité', 'Environnement', 'Sécurité', 'Autre'],\n    non_conformites: ['Situation', 'Matière première / Ingrédient', 'Coproduit', 'Produit en cours', 'Produit Fini', 'Emballage', 'Echantillon'],\n    defauts: ['Qualité - Autre', 'Moisissures', 'Goût - texture - odeur', 'Aspect', 'Corps étranger', 'Microbiologie', 'Physico-chimie', 'Emballage - marquage', 'Poids', 'Nuisibles'],\n    ccp_prpo: ['CCP - Antibiotiques', 'CCP - Pasteurisation', 'PRPo - Préparation milieu ferment', 'CCP - DPM', 'PRPo - Etanchéité', 'PRPo - Composition gazeuse'],\n    categories_corps_etranger: ['Plastique dur', 'Plastique divers', 'Papier/Carton', 'Verre', 'Graisse', 'Métal', 'Encre/marquage', 'Nuisible', 'Fromage', 'Bois', 'Cheveu', 'Autre'],\n    types_risque: ['Agents chimiques dangereux', 'Ambiances climatiques', 'ATEX - risque explosion', 'Bruit', 'Brûlure thermique', 'Chute avec dénivellation', 'Chute de hauteur', 'Chute de plain-pied', 'Chute d\\'objet', 'Circulation', 'Coincement / Ecrasement', 'Coupure', 'Electricité', 'Espaces confinés', 'Gestes répétitifs', 'Incendie', 'Machines', 'Manutention manuelle', 'Manutention mécanique', 'Postures pénibles', 'Risque biologique', 'Risque routier', 'Risques psychosociaux', 'Autre'],\n    regles_or: ['EPI', 'Machines', 'Consignation', 'Espace confiné / Travail en hauteur', 'Produit chimique', 'Manutention manuelle / Posture', 'Conduite d\\'engins', 'Circulation piétonne', 'Circulation routière', 'NON APPLICABLE'],\n    types_env: ['Eaux (fuite)', 'Air : fuite, rejet', 'Sol (déversement)', 'Déchets (tri)', 'Autres (réglementaire)'],\n    lieux: ['cuve', 'pressage', 'GSV', 'Acidification', 'Laverie', 'Saumure', 'salle levains', 'cave', 'Quai', 'Autres'],\n    postes: ['salle de soins', 'sortie saumure', 'conduite moulage', 'conduite cuves', 'cariste', 'gradeur', 'nettoyage', 'expedition', 'autre'],\n    types_action: ['Humaine', 'Organisationnelle', 'Technique'],\n    statuts_action: ['Close', 'En cours', 'A lancer']\n  };\n  const useConfigStore = (0, _zustand.create)(set => ({\n    config: DEFAULT_CONFIG,\n    isLoading: true,\n    loadConfig: async () => {\n      try {\n        // First try to load from API\n        const response = await axios.default.get(`${API_URL}/api/config`);\n        if (response.data && response.data.services) {\n          set({\n            config: response.data,\n            isLoading: false\n          });\n          await AsyncStorage.default.setItem('config', JSON.stringify(response.data));\n          return;\n        }\n      } catch (e) {\n        console.log('Could not load config from API, trying local');\n      }\n\n      // Try local storage\n      try {\n        const localConfig = await AsyncStorage.default.getItem('config');\n        if (localConfig) {\n          set({\n            config: JSON.parse(localConfig),\n            isLoading: false\n          });\n          return;\n        }\n      } catch (e) {\n        console.log('Could not load local config');\n      }\n\n      // Use default\n      set({\n        config: DEFAULT_CONFIG,\n        isLoading: false\n      });\n    },\n    updateConfig: async config => {\n      try {\n        await axios.default.put(`${API_URL}/api/config`, config);\n        await AsyncStorage.default.setItem('config', JSON.stringify(config));\n        set({\n          config\n        });\n      } catch (e) {\n        console.error('Error updating config:', e);\n      }\n    }\n  }));\n});","lineCount":90,"map":[[12,2,71,0,"Object"],[12,8,71,0],[12,9,71,0,"defineProperty"],[12,23,71,0],[12,24,71,0,"exports"],[12,31,71,0],[13,4,71,0,"enumerable"],[13,14,71,0],[14,4,71,0,"get"],[14,7,71,0],[14,18,71,0,"get"],[14,19,71,0],[15,6,71,0],[15,13,71,0,"useConfigStore"],[15,27,71,0],[16,4,71,0],[17,2,71,0],[18,2,112,4],[18,6,112,4,"_expoVirtualEnv"],[18,21,112,4],[18,24,112,4,"require"],[18,31,112,4],[18,32,112,4,"_dependencyMap"],[18,46,112,4],[19,2,1,0],[19,6,1,0,"_zustand"],[19,14,1,0],[19,17,1,0,"require"],[19,24,1,0],[19,25,1,0,"_dependencyMap"],[19,39,1,0],[20,2,2,0],[20,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,42,2,0],[20,45,2,0,"require"],[20,52,2,0],[20,53,2,0,"_dependencyMap"],[20,67,2,0],[21,2,2,0],[21,6,2,0,"AsyncStorage"],[21,18,2,0],[21,21,2,0,"_interopDefault"],[21,36,2,0],[21,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,73,2,0],[22,2,4,0],[22,6,4,0,"_axios"],[22,12,4,0],[22,15,4,0,"require"],[22,22,4,0],[22,23,4,0,"_dependencyMap"],[22,37,4,0],[23,2,4,0],[23,6,4,0,"axios"],[23,11,4,0],[23,14,4,0,"_interopDefault"],[23,29,4,0],[23,30,4,0,"_axios"],[23,36,4,0],[24,2,6,0],[24,8,6,6,"API_URL"],[24,15,6,13],[24,18,6,13,"_expoVirtualEnv"],[24,33,6,13],[24,34,6,13,"env"],[24,37,6,13],[24,38,6,13,"EXPO_PUBLIC_BACKEND_URL"],[24,61,6,51],[25,2,8,0],[25,8,8,6,"DEFAULT_CONFIG"],[25,22,8,32],[25,25,8,35],[26,4,9,2,"services"],[26,12,9,10],[26,14,9,12],[26,15,10,4],[26,21,10,10],[26,23,10,12],[26,40,10,29],[26,42,10,31],[26,56,10,45],[26,58,10,47],[26,79,10,68],[26,81,11,4],[26,98,11,21],[26,100,11,23],[26,118,11,41],[26,120,11,43],[26,135,11,58],[26,137,11,60],[26,159,11,82],[26,161,12,4],[26,179,12,22],[26,181,12,24],[26,203,12,46],[26,205,12,48],[26,230,12,73],[26,232,13,4],[26,255,13,27],[26,257,13,29],[26,279,13,51],[26,281,13,53],[26,305,13,77],[26,307,14,4],[26,325,14,22],[26,327,14,24],[26,336,14,33],[26,338,14,35],[26,351,14,48],[26,353,14,50],[26,363,14,60],[26,365,14,62],[26,380,14,77],[26,382,15,4],[26,390,15,12],[26,392,15,14],[26,406,15,28],[26,408,15,30],[26,421,15,43],[26,423,15,45],[26,432,15,54],[26,434,15,56],[26,449,15,71],[26,451,15,73],[26,461,15,83],[26,463,15,85],[26,470,15,92],[26,471,16,3],[27,4,17,2,"non_conformites"],[27,19,17,17],[27,21,17,19],[27,22,18,4],[27,33,18,15],[27,35,18,17],[27,66,18,48],[27,68,18,50],[27,79,18,61],[27,81,19,4],[27,99,19,22],[27,101,19,24],[27,115,19,38],[27,117,19,40],[27,128,19,51],[27,130,19,53],[27,143,19,66],[27,144,20,3],[28,4,21,2,"defauts"],[28,11,21,9],[28,13,21,11],[28,14,22,4],[28,31,22,21],[28,33,22,23],[28,46,22,36],[28,48,22,38],[28,72,22,62],[28,74,22,64],[28,82,22,72],[28,84,23,4],[28,100,23,20],[28,102,23,22],[28,117,23,37],[28,119,23,39],[28,135,23,55],[28,137,23,57],[28,159,23,79],[28,161,24,4],[28,168,24,11],[28,170,24,13],[28,181,24,24],[28,182,25,3],[29,4,26,2,"ccp_prpo"],[29,12,26,10],[29,14,26,12],[29,15,27,4],[29,36,27,25],[29,38,27,27],[29,60,27,49],[29,62,27,51],[29,97,27,86],[29,99,28,4],[29,110,28,15],[29,112,28,17],[29,131,28,36],[29,133,28,38],[29,161,28,66],[29,162,29,3],[30,4,30,2,"categories_corps_etranger"],[30,29,30,27],[30,31,30,29],[30,32,31,4],[30,47,31,19],[30,49,31,21],[30,67,31,39],[30,69,31,41],[30,84,31,56],[30,86,31,58],[30,93,31,65],[30,95,32,4],[30,104,32,13],[30,106,32,15],[30,113,32,22],[30,115,32,24],[30,131,32,40],[30,133,32,42],[30,143,32,52],[30,145,32,54],[30,154,32,63],[30,156,33,4],[30,162,33,10],[30,164,33,12],[30,172,33,20],[30,174,33,22],[30,181,33,29],[30,182,34,3],[31,4,35,2,"types_risque"],[31,16,35,14],[31,18,35,16],[31,19,36,4],[31,47,36,32],[31,49,36,34],[31,72,36,57],[31,74,36,59],[31,99,36,84],[31,101,37,4],[31,108,37,11],[31,110,37,13],[31,129,37,32],[31,131,37,34],[31,157,37,60],[31,159,37,62],[31,177,37,80],[31,179,38,4],[31,200,38,25],[31,202,38,27],[31,218,38,43],[31,220,38,45],[31,233,38,58],[31,235,38,60],[31,260,38,85],[31,262,39,4],[31,271,39,13],[31,273,39,15],[31,286,39,28],[31,288,39,30],[31,306,39,48],[31,308,39,50],[31,327,39,69],[31,329,39,71],[31,339,39,81],[31,341,40,4],[31,351,40,14],[31,353,40,16],[31,375,40,38],[31,377,40,40],[31,400,40,63],[31,402,40,65],[31,421,40,84],[31,423,41,4],[31,442,41,23],[31,444,41,25],[31,460,41,41],[31,462,41,43],[31,485,41,66],[31,487,41,68],[31,494,41,75],[31,495,42,3],[32,4,43,2,"regles_or"],[32,13,43,11],[32,15,43,13],[32,16,44,4],[32,21,44,9],[32,23,44,11],[32,33,44,21],[32,35,44,23],[32,49,44,37],[32,51,44,39],[32,88,44,76],[32,90,45,4],[32,108,45,22],[32,110,45,24],[32,142,45,56],[32,144,45,58],[32,164,45,78],[32,166,46,4],[32,188,46,26],[32,190,46,28],[32,212,46,50],[32,214,46,52],[32,230,46,68],[32,231,47,3],[33,4,48,2,"types_env"],[33,13,48,11],[33,15,48,13],[33,16,49,4],[33,30,49,18],[33,32,49,20],[33,52,49,40],[33,54,49,42],[33,73,49,61],[33,75,50,4],[33,90,50,19],[33,92,50,21],[33,116,50,45],[33,117,51,3],[34,4,52,2,"lieux"],[34,9,52,7],[34,11,52,9],[34,12,53,4],[34,18,53,10],[34,20,53,12],[34,30,53,22],[34,32,53,24],[34,37,53,29],[34,39,53,31],[34,54,53,46],[34,56,53,48],[34,65,53,57],[34,67,53,59],[34,76,53,68],[34,78,54,4],[34,93,54,19],[34,95,54,21],[34,101,54,27],[34,103,54,29],[34,109,54,35],[34,111,54,37],[34,119,54,45],[34,120,55,3],[35,4,56,2,"postes"],[35,10,56,8],[35,12,56,10],[35,13,57,4],[35,29,57,20],[35,31,57,22],[35,47,57,38],[35,49,57,40],[35,67,57,58],[35,69,57,60],[35,85,57,76],[35,87,58,4],[35,96,58,13],[35,98,58,15],[35,107,58,24],[35,109,58,26],[35,120,58,37],[35,122,58,39],[35,134,58,51],[35,136,58,53],[35,143,58,60],[35,144,59,3],[36,4,60,2,"types_action"],[36,16,60,14],[36,18,60,16],[36,19,60,17],[36,28,60,26],[36,30,60,28],[36,49,60,47],[36,51,60,49],[36,62,60,60],[36,63,60,61],[37,4,61,2,"statuts_action"],[37,18,61,16],[37,20,61,18],[37,21,61,19],[37,28,61,26],[37,30,61,28],[37,40,61,38],[37,42,61,40],[37,52,61,50],[38,2,62,0],[38,3,62,1],[39,2,71,7],[39,8,71,13,"useConfigStore"],[39,22,71,27],[39,25,71,30],[39,29,71,30,"create"],[39,37,71,36],[39,38,71,36,"create"],[39,44,71,36],[39,46,71,51,"set"],[39,49,71,54],[39,54,71,60],[40,4,72,2,"config"],[40,10,72,8],[40,12,72,10,"DEFAULT_CONFIG"],[40,26,72,24],[41,4,73,2,"isLoading"],[41,13,73,11],[41,15,73,13],[41,19,73,17],[42,4,75,2,"loadConfig"],[42,14,75,12],[42,16,75,14],[42,22,75,14,"loadConfig"],[42,23,75,14],[42,28,75,26],[43,6,76,4],[43,10,76,8],[44,8,77,6],[45,8,78,6],[45,14,78,12,"response"],[45,22,78,20],[45,25,78,23],[45,31,78,29,"axios"],[45,36,78,34],[45,37,78,34,"default"],[45,44,78,34],[45,45,78,35,"get"],[45,48,78,38],[45,49,78,39],[45,52,78,42,"API_URL"],[45,59,78,49],[45,72,78,62],[45,73,78,63],[46,8,79,6],[46,12,79,10,"response"],[46,20,79,18],[46,21,79,19,"data"],[46,25,79,23],[46,29,79,27,"response"],[46,37,79,35],[46,38,79,36,"data"],[46,42,79,40],[46,43,79,41,"services"],[46,51,79,49],[46,53,79,51],[47,10,80,8,"set"],[47,13,80,11],[47,14,80,12],[48,12,80,14,"config"],[48,18,80,20],[48,20,80,22,"response"],[48,28,80,30],[48,29,80,31,"data"],[48,33,80,35],[49,12,80,37,"isLoading"],[49,21,80,46],[49,23,80,48],[50,10,80,54],[50,11,80,55],[50,12,80,56],[51,10,81,8],[51,16,81,14,"AsyncStorage"],[51,28,81,26],[51,29,81,26,"default"],[51,36,81,26],[51,37,81,27,"setItem"],[51,44,81,34],[51,45,81,35],[51,53,81,43],[51,55,81,45,"JSON"],[51,59,81,49],[51,60,81,50,"stringify"],[51,69,81,59],[51,70,81,60,"response"],[51,78,81,68],[51,79,81,69,"data"],[51,83,81,73],[51,84,81,74],[51,85,81,75],[52,10,82,8],[53,8,83,6],[54,6,84,4],[54,7,84,5],[54,8,84,6],[54,15,84,13,"e"],[54,16,84,14],[54,18,84,16],[55,8,85,6,"console"],[55,15,85,13],[55,16,85,14,"log"],[55,19,85,17],[55,20,85,18],[55,66,85,64],[55,67,85,65],[56,6,86,4],[58,6,88,4],[59,6,89,4],[59,10,89,8],[60,8,90,6],[60,14,90,12,"localConfig"],[60,25,90,23],[60,28,90,26],[60,34,90,32,"AsyncStorage"],[60,46,90,44],[60,47,90,44,"default"],[60,54,90,44],[60,55,90,45,"getItem"],[60,62,90,52],[60,63,90,53],[60,71,90,61],[60,72,90,62],[61,8,91,6],[61,12,91,10,"localConfig"],[61,23,91,21],[61,25,91,23],[62,10,92,8,"set"],[62,13,92,11],[62,14,92,12],[63,12,92,14,"config"],[63,18,92,20],[63,20,92,22,"JSON"],[63,24,92,26],[63,25,92,27,"parse"],[63,30,92,32],[63,31,92,33,"localConfig"],[63,42,92,44],[63,43,92,45],[64,12,92,47,"isLoading"],[64,21,92,56],[64,23,92,58],[65,10,92,64],[65,11,92,65],[65,12,92,66],[66,10,93,8],[67,8,94,6],[68,6,95,4],[68,7,95,5],[68,8,95,6],[68,15,95,13,"e"],[68,16,95,14],[68,18,95,16],[69,8,96,6,"console"],[69,15,96,13],[69,16,96,14,"log"],[69,19,96,17],[69,20,96,18],[69,49,96,47],[69,50,96,48],[70,6,97,4],[72,6,99,4],[73,6,100,4,"set"],[73,9,100,7],[73,10,100,8],[74,8,100,10,"config"],[74,14,100,16],[74,16,100,18,"DEFAULT_CONFIG"],[74,30,100,32],[75,8,100,34,"isLoading"],[75,17,100,43],[75,19,100,45],[76,6,100,51],[76,7,100,52],[76,8,100,53],[77,4,101,2],[77,5,101,3],[78,4,103,2,"updateConfig"],[78,16,103,14],[78,18,103,16],[78,24,103,23,"config"],[78,30,103,29],[78,34,103,34],[79,6,104,4],[79,10,104,8],[80,8,105,6],[80,14,105,12,"axios"],[80,19,105,17],[80,20,105,17,"default"],[80,27,105,17],[80,28,105,18,"put"],[80,31,105,21],[80,32,105,22],[80,35,105,25,"API_URL"],[80,42,105,32],[80,55,105,45],[80,57,105,47,"config"],[80,63,105,53],[80,64,105,54],[81,8,106,6],[81,14,106,12,"AsyncStorage"],[81,26,106,24],[81,27,106,24,"default"],[81,34,106,24],[81,35,106,25,"setItem"],[81,42,106,32],[81,43,106,33],[81,51,106,41],[81,53,106,43,"JSON"],[81,57,106,47],[81,58,106,48,"stringify"],[81,67,106,57],[81,68,106,58,"config"],[81,74,106,64],[81,75,106,65],[81,76,106,66],[82,8,107,6,"set"],[82,11,107,9],[82,12,107,10],[83,10,107,12,"config"],[84,8,107,19],[84,9,107,20],[84,10,107,21],[85,6,108,4],[85,7,108,5],[85,8,108,6],[85,15,108,13,"e"],[85,16,108,14],[85,18,108,16],[86,8,109,6,"console"],[86,15,109,13],[86,16,109,14,"error"],[86,21,109,19],[86,22,109,20],[86,46,109,44],[86,48,109,46,"e"],[86,49,109,47],[86,50,109,48],[87,6,110,4],[88,4,111,2],[89,2,112,0],[89,3,112,1],[89,4,112,2],[89,5,112,3],[90,0,112,4],[90,3]],"functionMap":{"names":["<global>","create$argument_0","loadConfig","updateConfig"],"mappings":"AAA;kDCsE;cCI;GD0B;gBEE;GFQ;EDC"},"hasCjsExports":false},"type":"js/module"}]}