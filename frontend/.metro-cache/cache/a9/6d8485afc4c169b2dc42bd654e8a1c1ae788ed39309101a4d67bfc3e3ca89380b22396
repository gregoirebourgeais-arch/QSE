{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":143},"end":{"line":4,"column":26,"index":169}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useConfigStore\", {\n    enumerable: true,\n    get: function () {\n      return useConfigStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n  const DEFAULT_CONFIG = {\n    services: ['REPC', 'Fabrication PPC', 'Affinage PPC', 'Conditionnement PPC', 'Expéditions PPC', 'Fabrication PPNC', 'Affinage PPNC', 'Conditionnement PPNC', 'Expéditions PPNC', 'Maintenance générale', 'Maintenance Fab/Aff PPC', 'Maintenance Condi PPC', 'Maintenance Fab PPNC', 'Maintenance Condi PPNC', 'Maintenance REPC', 'Magasin', 'Laboratoire', 'Collecte', 'Administratif', 'Garage', 'Rétrocession', 'Froid ferme', 'Qualité', 'Environnement', 'Sécurité', 'Autre'],\n    non_conformites: ['Situation', 'Matière première / Ingrédient', 'Coproduit', 'Produit en cours', 'Produit Fini', 'Emballage', 'Echantillon'],\n    defauts: ['Qualité - Autre', 'Moisissures', 'Goût - texture - odeur', 'Aspect', 'Corps étranger', 'Microbiologie', 'Physico-chimie', 'Emballage - marquage', 'Poids', 'Nuisibles'],\n    ccp_prpo: ['CCP - Antibiotiques', 'CCP - Pasteurisation', 'PRPo - Préparation milieu ferment', 'CCP - DPM', 'PRPo - Etanchéité', 'PRPo - Composition gazeuse'],\n    categories_corps_etranger: ['Plastique dur', 'Plastique divers', 'Papier/Carton', 'Verre', 'Graisse', 'Métal', 'Encre/marquage', 'Nuisible', 'Fromage', 'Bois', 'Cheveu', 'Autre'],\n    types_risque: ['Agents chimiques dangereux', 'Ambiances climatiques', 'ATEX - risque explosion', 'Bruit', 'Brûlure thermique', 'Chute avec dénivellation', 'Chute de hauteur', 'Chute de plain-pied', 'Chute d\\'objet', 'Circulation', 'Coincement / Ecrasement', 'Coupure', 'Electricité', 'Espaces confinés', 'Gestes répétitifs', 'Incendie', 'Machines', 'Manutention manuelle', 'Manutention mécanique', 'Postures pénibles', 'Risque biologique', 'Risque routier', 'Risques psychosociaux', 'Autre'],\n    regles_or: ['EPI', 'Machines', 'Consignation', 'Espace confiné / Travail en hauteur', 'Produit chimique', 'Manutention manuelle / Posture', 'Conduite d\\'engins', 'Circulation piétonne', 'Circulation routière', 'NON APPLICABLE'],\n    types_env: ['Eaux (fuite)', 'Air : fuite, rejet', 'Sol (déversement)', 'Déchets (tri)', 'Autres (réglementaire)'],\n    lieux: ['cuve', 'pressage', 'GSV', 'Acidification', 'Laverie', 'Saumure', 'salle levains', 'cave', 'Quai', 'Autres'],\n    postes: ['salle de soins', 'sortie saumure', 'conduite moulage', 'conduite cuves', 'cariste', 'gradeur', 'nettoyage', 'expedition', 'autre'],\n    types_action: ['Humaine', 'Organisationnelle', 'Technique'],\n    statuts_action: ['Close', 'En cours', 'A lancer']\n  };\n  const useConfigStore = (0, _zustand.create)(set => ({\n    config: DEFAULT_CONFIG,\n    isLoading: true,\n    loadConfig: async () => {\n      try {\n        // First try to load from API\n        const response = await axios.default.get(`${API_URL}/api/config`);\n        if (response.data && response.data.services) {\n          set({\n            config: response.data,\n            isLoading: false\n          });\n          await AsyncStorage.default.setItem('config', JSON.stringify(response.data));\n          return;\n        }\n      } catch (e) {\n        console.log('Could not load config from API, trying local');\n      }\n\n      // Try local storage\n      try {\n        const localConfig = await AsyncStorage.default.getItem('config');\n        if (localConfig) {\n          set({\n            config: JSON.parse(localConfig),\n            isLoading: false\n          });\n          return;\n        }\n      } catch (e) {\n        console.log('Could not load local config');\n      }\n\n      // Use default\n      set({\n        config: DEFAULT_CONFIG,\n        isLoading: false\n      });\n    },\n    updateConfig: async config => {\n      try {\n        await axios.default.put(`${API_URL}/api/config`, config);\n        await AsyncStorage.default.setItem('config', JSON.stringify(config));\n        set({\n          config\n        });\n      } catch (e) {\n        console.error('Error updating config:', e);\n      }\n    }\n  }));\n});","lineCount":89,"map":[[12,2,71,0,"Object"],[12,8,71,0],[12,9,71,0,"defineProperty"],[12,23,71,0],[12,24,71,0,"exports"],[12,31,71,0],[13,4,71,0,"enumerable"],[13,14,71,0],[14,4,71,0,"get"],[14,7,71,0],[14,18,71,0,"get"],[14,19,71,0],[15,6,71,0],[15,13,71,0,"useConfigStore"],[15,27,71,0],[16,4,71,0],[17,2,71,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,4,0],[21,6,4,0,"_axios"],[21,12,4,0],[21,15,4,0,"require"],[21,22,4,0],[21,23,4,0,"_dependencyMap"],[21,37,4,0],[22,2,4,0],[22,6,4,0,"axios"],[22,11,4,0],[22,14,4,0,"_interopDefault"],[22,29,4,0],[22,30,4,0,"_axios"],[22,36,4,0],[23,2,6,0],[23,8,6,6,"API_URL"],[23,15,6,13],[23,18,6,16,"process"],[23,25,6,23],[23,26,6,24,"env"],[23,29,6,27],[23,30,6,28,"EXPO_PUBLIC_BACKEND_URL"],[23,53,6,51],[24,2,8,0],[24,8,8,6,"DEFAULT_CONFIG"],[24,22,8,32],[24,25,8,35],[25,4,9,2,"services"],[25,12,9,10],[25,14,9,12],[25,15,10,4],[25,21,10,10],[25,23,10,12],[25,40,10,29],[25,42,10,31],[25,56,10,45],[25,58,10,47],[25,79,10,68],[25,81,11,4],[25,98,11,21],[25,100,11,23],[25,118,11,41],[25,120,11,43],[25,135,11,58],[25,137,11,60],[25,159,11,82],[25,161,12,4],[25,179,12,22],[25,181,12,24],[25,203,12,46],[25,205,12,48],[25,230,12,73],[25,232,13,4],[25,255,13,27],[25,257,13,29],[25,279,13,51],[25,281,13,53],[25,305,13,77],[25,307,14,4],[25,325,14,22],[25,327,14,24],[25,336,14,33],[25,338,14,35],[25,351,14,48],[25,353,14,50],[25,363,14,60],[25,365,14,62],[25,380,14,77],[25,382,15,4],[25,390,15,12],[25,392,15,14],[25,406,15,28],[25,408,15,30],[25,421,15,43],[25,423,15,45],[25,432,15,54],[25,434,15,56],[25,449,15,71],[25,451,15,73],[25,461,15,83],[25,463,15,85],[25,470,15,92],[25,471,16,3],[26,4,17,2,"non_conformites"],[26,19,17,17],[26,21,17,19],[26,22,18,4],[26,33,18,15],[26,35,18,17],[26,66,18,48],[26,68,18,50],[26,79,18,61],[26,81,19,4],[26,99,19,22],[26,101,19,24],[26,115,19,38],[26,117,19,40],[26,128,19,51],[26,130,19,53],[26,143,19,66],[26,144,20,3],[27,4,21,2,"defauts"],[27,11,21,9],[27,13,21,11],[27,14,22,4],[27,31,22,21],[27,33,22,23],[27,46,22,36],[27,48,22,38],[27,72,22,62],[27,74,22,64],[27,82,22,72],[27,84,23,4],[27,100,23,20],[27,102,23,22],[27,117,23,37],[27,119,23,39],[27,135,23,55],[27,137,23,57],[27,159,23,79],[27,161,24,4],[27,168,24,11],[27,170,24,13],[27,181,24,24],[27,182,25,3],[28,4,26,2,"ccp_prpo"],[28,12,26,10],[28,14,26,12],[28,15,27,4],[28,36,27,25],[28,38,27,27],[28,60,27,49],[28,62,27,51],[28,97,27,86],[28,99,28,4],[28,110,28,15],[28,112,28,17],[28,131,28,36],[28,133,28,38],[28,161,28,66],[28,162,29,3],[29,4,30,2,"categories_corps_etranger"],[29,29,30,27],[29,31,30,29],[29,32,31,4],[29,47,31,19],[29,49,31,21],[29,67,31,39],[29,69,31,41],[29,84,31,56],[29,86,31,58],[29,93,31,65],[29,95,32,4],[29,104,32,13],[29,106,32,15],[29,113,32,22],[29,115,32,24],[29,131,32,40],[29,133,32,42],[29,143,32,52],[29,145,32,54],[29,154,32,63],[29,156,33,4],[29,162,33,10],[29,164,33,12],[29,172,33,20],[29,174,33,22],[29,181,33,29],[29,182,34,3],[30,4,35,2,"types_risque"],[30,16,35,14],[30,18,35,16],[30,19,36,4],[30,47,36,32],[30,49,36,34],[30,72,36,57],[30,74,36,59],[30,99,36,84],[30,101,37,4],[30,108,37,11],[30,110,37,13],[30,129,37,32],[30,131,37,34],[30,157,37,60],[30,159,37,62],[30,177,37,80],[30,179,38,4],[30,200,38,25],[30,202,38,27],[30,218,38,43],[30,220,38,45],[30,233,38,58],[30,235,38,60],[30,260,38,85],[30,262,39,4],[30,271,39,13],[30,273,39,15],[30,286,39,28],[30,288,39,30],[30,306,39,48],[30,308,39,50],[30,327,39,69],[30,329,39,71],[30,339,39,81],[30,341,40,4],[30,351,40,14],[30,353,40,16],[30,375,40,38],[30,377,40,40],[30,400,40,63],[30,402,40,65],[30,421,40,84],[30,423,41,4],[30,442,41,23],[30,444,41,25],[30,460,41,41],[30,462,41,43],[30,485,41,66],[30,487,41,68],[30,494,41,75],[30,495,42,3],[31,4,43,2,"regles_or"],[31,13,43,11],[31,15,43,13],[31,16,44,4],[31,21,44,9],[31,23,44,11],[31,33,44,21],[31,35,44,23],[31,49,44,37],[31,51,44,39],[31,88,44,76],[31,90,45,4],[31,108,45,22],[31,110,45,24],[31,142,45,56],[31,144,45,58],[31,164,45,78],[31,166,46,4],[31,188,46,26],[31,190,46,28],[31,212,46,50],[31,214,46,52],[31,230,46,68],[31,231,47,3],[32,4,48,2,"types_env"],[32,13,48,11],[32,15,48,13],[32,16,49,4],[32,30,49,18],[32,32,49,20],[32,52,49,40],[32,54,49,42],[32,73,49,61],[32,75,50,4],[32,90,50,19],[32,92,50,21],[32,116,50,45],[32,117,51,3],[33,4,52,2,"lieux"],[33,9,52,7],[33,11,52,9],[33,12,53,4],[33,18,53,10],[33,20,53,12],[33,30,53,22],[33,32,53,24],[33,37,53,29],[33,39,53,31],[33,54,53,46],[33,56,53,48],[33,65,53,57],[33,67,53,59],[33,76,53,68],[33,78,54,4],[33,93,54,19],[33,95,54,21],[33,101,54,27],[33,103,54,29],[33,109,54,35],[33,111,54,37],[33,119,54,45],[33,120,55,3],[34,4,56,2,"postes"],[34,10,56,8],[34,12,56,10],[34,13,57,4],[34,29,57,20],[34,31,57,22],[34,47,57,38],[34,49,57,40],[34,67,57,58],[34,69,57,60],[34,85,57,76],[34,87,58,4],[34,96,58,13],[34,98,58,15],[34,107,58,24],[34,109,58,26],[34,120,58,37],[34,122,58,39],[34,134,58,51],[34,136,58,53],[34,143,58,60],[34,144,59,3],[35,4,60,2,"types_action"],[35,16,60,14],[35,18,60,16],[35,19,60,17],[35,28,60,26],[35,30,60,28],[35,49,60,47],[35,51,60,49],[35,62,60,60],[35,63,60,61],[36,4,61,2,"statuts_action"],[36,18,61,16],[36,20,61,18],[36,21,61,19],[36,28,61,26],[36,30,61,28],[36,40,61,38],[36,42,61,40],[36,52,61,50],[37,2,62,0],[37,3,62,1],[38,2,71,7],[38,8,71,13,"useConfigStore"],[38,22,71,27],[38,25,71,30],[38,29,71,30,"create"],[38,37,71,36],[38,38,71,36,"create"],[38,44,71,36],[38,46,71,51,"set"],[38,49,71,54],[38,54,71,60],[39,4,72,2,"config"],[39,10,72,8],[39,12,72,10,"DEFAULT_CONFIG"],[39,26,72,24],[40,4,73,2,"isLoading"],[40,13,73,11],[40,15,73,13],[40,19,73,17],[41,4,75,2,"loadConfig"],[41,14,75,12],[41,16,75,14],[41,22,75,14,"loadConfig"],[41,23,75,14],[41,28,75,26],[42,6,76,4],[42,10,76,8],[43,8,77,6],[44,8,78,6],[44,14,78,12,"response"],[44,22,78,20],[44,25,78,23],[44,31,78,29,"axios"],[44,36,78,34],[44,37,78,34,"default"],[44,44,78,34],[44,45,78,35,"get"],[44,48,78,38],[44,49,78,39],[44,52,78,42,"API_URL"],[44,59,78,49],[44,72,78,62],[44,73,78,63],[45,8,79,6],[45,12,79,10,"response"],[45,20,79,18],[45,21,79,19,"data"],[45,25,79,23],[45,29,79,27,"response"],[45,37,79,35],[45,38,79,36,"data"],[45,42,79,40],[45,43,79,41,"services"],[45,51,79,49],[45,53,79,51],[46,10,80,8,"set"],[46,13,80,11],[46,14,80,12],[47,12,80,14,"config"],[47,18,80,20],[47,20,80,22,"response"],[47,28,80,30],[47,29,80,31,"data"],[47,33,80,35],[48,12,80,37,"isLoading"],[48,21,80,46],[48,23,80,48],[49,10,80,54],[49,11,80,55],[49,12,80,56],[50,10,81,8],[50,16,81,14,"AsyncStorage"],[50,28,81,26],[50,29,81,26,"default"],[50,36,81,26],[50,37,81,27,"setItem"],[50,44,81,34],[50,45,81,35],[50,53,81,43],[50,55,81,45,"JSON"],[50,59,81,49],[50,60,81,50,"stringify"],[50,69,81,59],[50,70,81,60,"response"],[50,78,81,68],[50,79,81,69,"data"],[50,83,81,73],[50,84,81,74],[50,85,81,75],[51,10,82,8],[52,8,83,6],[53,6,84,4],[53,7,84,5],[53,8,84,6],[53,15,84,13,"e"],[53,16,84,14],[53,18,84,16],[54,8,85,6,"console"],[54,15,85,13],[54,16,85,14,"log"],[54,19,85,17],[54,20,85,18],[54,66,85,64],[54,67,85,65],[55,6,86,4],[57,6,88,4],[58,6,89,4],[58,10,89,8],[59,8,90,6],[59,14,90,12,"localConfig"],[59,25,90,23],[59,28,90,26],[59,34,90,32,"AsyncStorage"],[59,46,90,44],[59,47,90,44,"default"],[59,54,90,44],[59,55,90,45,"getItem"],[59,62,90,52],[59,63,90,53],[59,71,90,61],[59,72,90,62],[60,8,91,6],[60,12,91,10,"localConfig"],[60,23,91,21],[60,25,91,23],[61,10,92,8,"set"],[61,13,92,11],[61,14,92,12],[62,12,92,14,"config"],[62,18,92,20],[62,20,92,22,"JSON"],[62,24,92,26],[62,25,92,27,"parse"],[62,30,92,32],[62,31,92,33,"localConfig"],[62,42,92,44],[62,43,92,45],[63,12,92,47,"isLoading"],[63,21,92,56],[63,23,92,58],[64,10,92,64],[64,11,92,65],[64,12,92,66],[65,10,93,8],[66,8,94,6],[67,6,95,4],[67,7,95,5],[67,8,95,6],[67,15,95,13,"e"],[67,16,95,14],[67,18,95,16],[68,8,96,6,"console"],[68,15,96,13],[68,16,96,14,"log"],[68,19,96,17],[68,20,96,18],[68,49,96,47],[68,50,96,48],[69,6,97,4],[71,6,99,4],[72,6,100,4,"set"],[72,9,100,7],[72,10,100,8],[73,8,100,10,"config"],[73,14,100,16],[73,16,100,18,"DEFAULT_CONFIG"],[73,30,100,32],[74,8,100,34,"isLoading"],[74,17,100,43],[74,19,100,45],[75,6,100,51],[75,7,100,52],[75,8,100,53],[76,4,101,2],[76,5,101,3],[77,4,103,2,"updateConfig"],[77,16,103,14],[77,18,103,16],[77,24,103,23,"config"],[77,30,103,29],[77,34,103,34],[78,6,104,4],[78,10,104,8],[79,8,105,6],[79,14,105,12,"axios"],[79,19,105,17],[79,20,105,17,"default"],[79,27,105,17],[79,28,105,18,"put"],[79,31,105,21],[79,32,105,22],[79,35,105,25,"API_URL"],[79,42,105,32],[79,55,105,45],[79,57,105,47,"config"],[79,63,105,53],[79,64,105,54],[80,8,106,6],[80,14,106,12,"AsyncStorage"],[80,26,106,24],[80,27,106,24,"default"],[80,34,106,24],[80,35,106,25,"setItem"],[80,42,106,32],[80,43,106,33],[80,51,106,41],[80,53,106,43,"JSON"],[80,57,106,47],[80,58,106,48,"stringify"],[80,67,106,57],[80,68,106,58,"config"],[80,74,106,64],[80,75,106,65],[80,76,106,66],[81,8,107,6,"set"],[81,11,107,9],[81,12,107,10],[82,10,107,12,"config"],[83,8,107,19],[83,9,107,20],[83,10,107,21],[84,6,108,4],[84,7,108,5],[84,8,108,6],[84,15,108,13,"e"],[84,16,108,14],[84,18,108,16],[85,8,109,6,"console"],[85,15,109,13],[85,16,109,14,"error"],[85,21,109,19],[85,22,109,20],[85,46,109,44],[85,48,109,46,"e"],[85,49,109,47],[85,50,109,48],[86,6,110,4],[87,4,111,2],[88,2,112,0],[88,3,112,1],[88,4,112,2],[88,5,112,3],[89,0,112,4],[89,3]],"functionMap":{"names":["<global>","create$argument_0","loadConfig","updateConfig"],"mappings":"AAA;kDCsE;cCI;GD0B;gBEE;GFQ;EDC"},"hasCjsExports":false},"type":"js/module"}]}